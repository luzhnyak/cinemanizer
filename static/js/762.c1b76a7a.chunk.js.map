{"version":3,"file":"static/js/762.c1b76a7a.chunk.js","mappings":"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","sources":["components/Pagination/Pagination.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport const Pagination = ({ totalPage, page, query }) => {\n  const location = useLocation();\n\n  const genItems = showItems => {\n    if (!totalPage) return [];\n    const items = [];\n    let start = Number(page) - Math.trunc(showItems / 2);\n    if (showItems > totalPage) {\n      showItems = totalPage;\n    }\n    if (start < 1) {\n      start = 1;\n    } else if (start + showItems > totalPage) {\n      start = totalPage - showItems + 1;\n    }\n\n    for (let i = start; i < start + showItems; i++) {\n      items.push(i.toString());\n    }\n\n    return items;\n  };\n\n  return (\n    <div className=\"mt-4 d-flex justify-content-center\">\n      <nav>\n        <ul className=\"pagination\">\n          <li className=\"page-item\">\n            <Link\n              to={location.pathname + `?query=${query}&page=1`}\n              className=\"page-link\"\n              aria-label=\"Previous\"\n            >\n              <span aria-hidden=\"true\">&laquo;</span>\n            </Link>\n          </li>\n          {genItems(9).map(item => {\n            return (\n              <li\n                className={page === item ? 'page-item active' : 'page-item'}\n                key={item}\n              >\n                <Link\n                  to={location.pathname + `?query=${query}&page=${item}`}\n                  className=\"page-link\"\n                >\n                  {item}\n                </Link>\n              </li>\n            );\n          })}\n          <li className=\"page-item\">\n            <Link\n              to={location.pathname + `?query=${query}&page=${totalPage}`}\n              className=\"page-link\"\n              aria-label=\"Next\"\n            >\n              <span aria-hidden=\"true\">&raquo;</span>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\n\nimport { Pagination } from 'components/Pagination/Pagination';\nimport { Loader } from 'components/Loader/Loader';\nimport { Gallery } from 'components/Gallery/Gallery';\nimport { useFetchMoviesQuery } from 'redux/api';\nimport toast from 'react-hot-toast';\nimport { useEffect } from 'react';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query');\n  const page = searchParams.get('page') ?? 1;\n\n  const { data, isLoading, error } = useFetchMoviesQuery(\n    { query, page },\n    {\n      skip: !query,\n    }\n  );\n\n  // Виводимо помилку\n  useEffect(() => {\n    if (error) toast.error(error.data.message);\n  }, [error]);\n\n  const movies = data?.results ?? [];\n  const totalPages = data?.total_pages ?? 0;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    setSearchParams({ query: form.elements.query.value, page: 1 });\n    form.reset();\n  };\n\n  return (\n    <div>\n      <form className=\"d-flex mb-3\" role=\"search\" onSubmit={handleSubmit}>\n        <input\n          className=\"form-control me-2\"\n          type=\"search\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          name=\"query\"\n        />\n        <button className=\"btn btn-outline-success\" type=\"submit\">\n          Search\n        </button>\n      </form>\n      {isLoading && <Loader />}\n      {movies.length === 0 && query && (\n        <p>Sorry. We can't find movies matching your query \"{query}\".</p>\n      )}\n\n      {movies.length !== 0 && <Gallery movies={movies} />}\n      {totalPages > 1 && (\n        <Pagination totalPage={totalPages} page={page} query={query} />\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["Pagination","_ref","totalPage","page","query","location","useLocation","_jsx","className","children","_jsxs","Link","to","pathname","concat","showItems","items","start","Number","Math","trunc","i","push","toString","genItems","map","item","_searchParams$get","_data$results","_data$total_pages","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","get","_useFetchMoviesQuery","useFetchMoviesQuery","skip","data","isLoading","error","useEffect","toast","message","movies","results","totalPages","total_pages","role","onSubmit","event","preventDefault","form","currentTarget","elements","value","reset","type","placeholder","name","Loader","length","Gallery"],"sourceRoot":""}